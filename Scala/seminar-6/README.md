# Работа с БД 2

## PostgreSQL

На прошлом семинаре мы подключались к H2 через JDBC, теперь давайте подменим на PostgreSQL и убедимся что ничего не
сломалось (спойлер: поменять нужно только конфиг)

После подмены БД, и запуска, давайте перезапустим приложение и убедимся, что миграции не накатываются дважды и данные в
БД сохранились. Если есть утилита, которая позволяют посмотреть содержимое БД (например `DBeaver`), то можете заглянуть
и убедиться что `liquibase` хранит историю и хэши миграций, которые он накатывал в специальных таблицах (создаются
при первом запуске `liquibase` на БД).

## Join

С join-ами в SQL-е мы уже поработали на прошлом семинаре, но давайте попробуем дописать наш запрос для получения всей
информации о животном.

## Транзакции

На прошлом семинаре мы остановились и не стали реализовывать полноценный update животного, сегодня мы исправим это!
Наша задача сделать обновление информации о животном (а именно features и voices) транзакционной (т.к. очевидно нам
может прийти 2 одновременных запроса с обновлениями одного и того же животного)

## Стриминг

Иногда нам может потребоваться отдавать очень много информации из базы, например, список всех животных, в таких случаях
может возникнуть проблема - у нас может не хватить оперативной памяти на хранение всего ответа пока мы читаем из БД.
Давайте попробуем читать из БД трим и отдавать по http стрим, таким образом мы будем хранить только часть данных в
памяти.
